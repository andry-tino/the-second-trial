%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% The 2nd Trial by Andrea Tino is licensed under CC BY-NC-SA 4.0. To view a   %
% copy of this license, visit                                                 %
% http://creativecommons.org/licenses/by-nc-sa/4.0/                           %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter[Study of functions]{Study of two functions}
\label{ch:fun}
\marginnote{Appears as \textit{first problem} in:
LI02, EA02 â€“ Scientific; LI03 - Scientific - Applied Sciences;
LI15 - Scientific - Sport Sciences (standard session)}

This year as well we can find the classic study of function problem. We
are given 2 functions:
\begin{equation*}
    \begin{array}{cc}
        f(x) = ax^2 - x + b & g(x) = (ax + b)e^{2x - x^2} \\
    \end{array}
\end{equation*}
Before moving straight on with the questions the problem poses, let's just have
a look at $f$ and $g$ and
classify\sidenote{You need to understand who your enemy is if you
want to fight him and win!}
them. $f$ is a simple algebraic function: a second-order polynomial;
while $g$ is a more sophisticated thing: a transcendental function made up
by the combination of a first-order polynomial and an exponential term. Both
are parametric functions where, in addition to the indipendent variable
$x$, we can see parameters $a$ and $b$.

\paragraph[Problem 1]{Max and min}
\label{par:subp1_1}
\marginnote{\smallcaps{\nameref{par:subp1_1}}}
Considering $a \in \mathbb{R} \setminus \{ 0 \}$ and $b \in \mathbb{R}$, we
need to show that $g$ has a minimum and maximum (both absolute). I know at
this point you might be tempted to start calculating the first-order
derivative and the studying its sign, but you need to hold that thought
because we can solve this much more
quickly\sidenote{This is not just quicker though, it is much smarter: remember that
the problem does not ask to compute those extema, but to just prove their
existence.} without getting our hands too dirty. 

This is a maximization/minimization problem, therefore we need to
dig in our memory and find out what theorems can help us on this matter.
Weierstrass comes to mind: if we prove that $g$ is continuous inside a
closed interval, then $g$ will attain one minimum and one maximum;
however we do not have a closed interval here, we have the whole
$]-\infty, +\infty[$ so that is not a viable solution.
But we are on the right track here: \textbf{continuity is the key}.
If we can prove that $g$ is \smallcaps{continuous} and
\smallcaps{bounded}\sidenote{A function
$f(x) : \mathbb{R} \mapsto \mathbb{R}$ is bounded in
$x \in [a, b] \subset \mathbb{R}$ when there exist $m, M \in \mathbb{R}$
such that: $m \leq f(x) < M$. Note that the interval can also be
$x \in ]-\infty, +\infty[$.}
in $\mathbb{R}$, then we have
proved\sidenote{A more rigorous proof to why continuous bounded
functions attain extrema can be found at: \nameref{sec:contbound}.}
it has
absolute extrema. Think about it: continuity means that you can draw
$g$ without ever lifting your pen from the paper, the only thing
which can prevent the existence of extrema is if
$\lim_{x \to \infty} g(x) = \infty$.

Let's implement this strategy. Let's first check the domain of $g$
to see whether it is continuous. As stated earlier, this is the product
between two factors: a polynomial (always continuous in $\mathbb{R}$),
and an exponential (also continuous in $\mathbb{R}$). The argument
inside the exponential is another polynomial as well. Therefore
$g$ is defined in all $\mathbb{R}$ without any discontinuities.
We now need to prove $g$ is bounded, let's start on the left:
\begin{equation*}
    \lim_{x \to -\infty} g(x) = \lim_{x \to -\infty} (ax + b)e^{2x - x^2}
\end{equation*}
Remember that $a \neq 0$ which means tht the $x$ inside $ax + b$ is
always gonna be there, hence $\lim_{x \to -\infty} (ax + b) = -\infty$.
And of course the exponential will vanish as its argument tends
to $-\infty$: $\lim_{x \to -\infty} e^{2x - x^2} = 0$. We reach
an undecided form:
\begin{equation*}
    \lim_{x \to -\infty} (ax + b)e^{2x - x^2} =
        [-\infty \cdot 0]
\end{equation*}
Solving this indeterminate form can be done quickly by turning it into
a different one. Remember that every product $\alpha \beta$ can be
rewritten as $\frac{\alpha}{\beta^{-1}}$. What's the gain you ask?
If $\alpha \to \infty$ and $\beta \to 0$, then we have transformed a
$[\infty \cdot 0]$ form into a $[\frac{\infty}{\infty}]$.
\begin{equation*}
    \lim_{x \to -\infty} (ax + b)e^{2x - x^2} =
    \lim_{x \to -\infty} \frac{ax + b}{e^{x^2 - 2x}} =
    \left[\frac{\infty}{\infty}\right]
\end{equation*}
What good is this for? Well, now we can use De L\^{o}pital's
theorem\sidenote{When two differetiable
functions $f$ and $g$ are
such that:
\begin{equation*}
    \lim_{x \to c} \frac{f(x)}{g(x)} = \left[\frac{\infty}{\infty}\right]
\end{equation*}
Then the following holds:
\begin{equation*}
    \lim_{x \to c} \frac{f(x)}{g(x)} = \lim_{x \to c} \frac{f^\prime(x)}{g\prime(x)}
\end{equation*}
Note that $c$ can either be a number or $\infty$.}:
\begin{equation*}
    \lim_{x \to -\infty} \frac{ax + b}{e^{x^2 - 2x}} =
    \lim_{x \to -\infty} \frac{(ax + b)^\prime}{\left( e^{x^2 - 2x} \right)^\prime} =
    \lim_{x \to -\infty} \frac{a}{(2x - 2)e^{x^2 - 2x}} =
    \left[\frac{1}{\infty}\right] = 0
\end{equation*}
When we move on to take the limit of $g$ to $+\infty$,
the calculations are basically
the same and so is the result: $\lim_{x \to +\infty} g(x) = 0$.
That means the $g$ attains a maximum and a minimum because we just proved this
function is continuous and bounded.

\paragraph[Problem 2]{Parametric problem}
\label{par:subp2_1}
\marginnote{\smallcaps{\nameref{par:subp2_1}}}
We now need to find the values of $a$ and $b$ such that
$f$ and $g$'s graphs intersect at point $A \equiv (A_x, A_y) \equiv (2,1)$.
This is nothing new, we know that by putting $f$ and $g$ in a system, we can
find the values of $x$ such that the two functions will have the same value:
\begin{equation*}
    \begin{cases}
        f(A_x) = A_y\\
        g(A_x) = A_y
    \end{cases}
    \implies
    \begin{cases}
        aA_x^2 - A_x + b = A_y\\
        (aA_x + b)e^{2A_x - A_x^2} = A_y
    \end{cases}
    \implies
    \begin{cases}
        4a + b = 3\\
        2a + b = 1
    \end{cases}
\end{equation*}
By subtracting the first equation to the second, we get $2a = 2$, so:
$a = 1$ and, by substitution back in either two of the equations: $b = -1$.

\paragraph[Problem 3]{Drawing functions}
\label{par:subp3_1}
\marginnote{\smallcaps{\nameref{par:subp3_1}}}
Assuming $a = 1$ and $b = -1$, we want to draw $f$ and $g$ which become:
\begin{equation*}
    \begin{array}{cc}
        f(x) = x^2 - x -1 & g(x) = (x - 1)e^{2x - x^2} \\
    \end{array}
\end{equation*}
Let's start from $f$ which is very easy: it's a polynomial. Polynomials
are great becase we already know so many things upfront: they are
fully defined\sidenote{A function's \textit{definition} is another way
of referring to its domain.} in $\mathbb{R}$, they are not
bounded\sidenote{A function's \textit{boundedness} is a property related to
its codomain. When a function is unbounded, it means its codomain has no
restrictions, therefore the function takes values on the whole $y$ axis.},
and they diverge at $\infty$. This means
that: $f : \mathbb{R} \mapsto \mathbb{R}$, and that:
$\lim_{x \to \infty} f = \infty$. Plus, we can see $f$ is of second order,
which means it is a parabola with its concavity pointing
upwards\sidenote{A parabola $ax^2 + bx + c$ points upwards
when $a > 0$, downwards if $a < 0$.}. To draw a parabola, we only need
to find out its vertex and its intersection points with the axes.
To find the vertex you can either remember (from Geometry) its coordinates,
or use pure Calculus and treat this as a
minimization\sidenote[][0.05\textwidth]{Because the vertex
of an upward parabola happens
to also be the minimum.} problem (which means calculating the derivative
and study its sign). We are going for the second approach, but we will use
the generic equation of a parabola: $p(x) = ax^2 + bx + c$ to
find the generic coordinates of its vertex. We need to compute the first
order derivative: $p^\prime(x) = 2ax + b$ and equate it to $0$ to find
the extrema: $p^\prime(x) = 0$, which means: $2ax + b = 0$, which yields:
$x = -\frac{b}{2a}$. There is no need to study the sign of the derivative
because this is a parabola, and it does not have an horizontal inflection
point, so the $x$ we found is for sure an extremum.
To get the y-coordinate of the vertex, we simply
compute\marginnote[0.17\textwidth]{Do not forget that $\Delta = b^2 - 4ac$.}:
\begin{equation*}
    \begin{split}
        p\left( -\frac{b}{2a} \right) &=
        a \left( -\frac{b}{2a} \right)^2 + b \left( -\frac{b}{2a} \right) + c =
        a \frac{b^2}{4a^2} - \frac{b^2}{2a} + c\\
        &= \frac{b^2}{4a} - \frac{b^2}{2a} + c = \frac{b^2 - 2b^2 + 4ac}{4a} =
        - \frac{b^2 - 4ac}{4a} = - \frac{\Delta}{4a}
    \end{split}
\end{equation*}
So, even if you did not remember
the coordinates of the vertex
of a parabola, now you have
it: $V \equiv \left( -\frac{b}{2a}, - \frac{\Delta}{4a} \right)$.
After replacing\sidenote{From the definition of a
generic plynomial: $p(x) = ax^2 + bx + c$, and since
$f(x) = x^2 - x - 1$, we get that $a=1$, $b=-1$ and $c=-1$.}
$a$, $b$ and $c$ from the definition of $f$, we get its vertex:
$V_f \equiv \left( \frac{1}{2}, - \frac{5}{4} \right)$.
Let's now find where $f$ intersects the axes so we can get a total of 3 points
which is enough to draw the parabola. To find where $f$ crosses the x-axis,
we must put $y = f(x)$ in a system with $y = 0$ (x-axis' graph), which leads to
equation\marginnote[0.1\textwidth]{Note: $\sqrt{5} \approx 2.2$.}:
\begin{equation*}
    x^2 - x - 1 = 0 \implies x = \frac{-b \pm \sqrt{\Delta}}{2a} =
    \frac{1 \pm \sqrt{5}}{2} \implies
    \begin{cases}
        x_1 \approx 1.6\\
        x_2 \approx -0.6
    \end{cases}
\end{equation*}

\begin{figure}[h] % Full width figure
    \includegraphics[width=1\linewidth]{problem_1_L_fplot_diag.tikz}
    \caption{This is the caption and much more to add come in here.}%
    \label{fig:fplot}%
\end{figure}

So now we know $f$ also passes through points $F_1 \equiv (-0.6,0)$ and
$F_2 \equiv (1.6,0)$ other than $V_f$. It was expected to find two points
where $f$ crosses the x-axis because the vertex $V_f$ is negative, therefore
in the lower region of the Cartesian Plot. Note that we do not really need
to find where the function crosses the y-axis, 3 points is
enough\sidenote{Also remember that given 3 different points, there is only
one parabola crossing them all. That is why 3 points are sufficient for drawing.}.

\paragraph{}
Let's move to function $g$, this is gonna take a little more time. As
always, let's start from the domain: since $g$ is the product between
a polynomial (always defined) and an exponential (also always defined),
and considering that the argument of the exponential is another polynomial
(same story: always defined), we can clearly see that
$g : \mathbb{R} \mapsto \mathbb{R}$; there are no discontinuities.
Let's move on and try to find any
symmetries\sidenote{A function is \textit{even} when symmetric with
respect to the y-axis (the function is mirrored). While a function
is \textit{odd} when it is symmetric with respect to the plot's
center $O \equiv (0,0)$.}.
Why evaluating symmetry? Because it makes drawing a function quicker.
If we find out that a function is symmetric,
we just focus on half of the Cartesian Plot, the other half can be
filled using symmetry rules.
We must first compute $g(-x)$:
\begin{equation}\label{eq:gminusx}
    g(-x) = (-x - 1)e^{-2x - (-x)^2} = -(x + 1)e^{-2x - x^2}
\end{equation}
If $g$ is even, then $g(-x) = g(x)$. But we can see from equation
\ref{eq:gminusx} that is not the case.
If $g$ is odd, then $-g(-x) = g(x)$; let us compute $-g(-x)$:
\begin{equation*}
    -g(-x) = -(-x - 1)e^{-2x - (-x)^2} = (x + 1)e^{-2x - x^2}
        = (x + 1)e^{-(2x + x^2)}
\end{equation*}
Unfortunately $g$ is not odd either. Too bad, bad at least our effort was
still not in vain: we know something more about $g$ anyway.
Let's continue getting more info on $g$: let's study its sign:
\begin{equation}\label{eq:ggeqzero}
    g(x) \geq 0 \implies (x - 1)e^{2x - x^2} \geq 0
\end{equation}
Let's focus on the points where $g(x) = 0$. From equation
\ref{eq:ggeqzero} we see that the function is a product, and a
product is null when either two of its factors is null. But one of the
factors is an exponential which is never $0$, so we are left
with the binomial $x-1$ which becomes null at $x = 1$. Now we know
that $g$ crosses the x-axis in $x = 1$, which means it changes sign
there, because we proved that $g$ is continuous. Back
to equation \ref{eq:ggeqzero}, we can see that one of the factors
is an exponential which is always (strictly) positive,
therefore the sign of $g$
is decided by $x-1$ which is positive when $x > 1$:
\begin{equation*}
    g(x) > 0 \iff \forall x > 1
\end{equation*}
Moving on, we want to study $g$'s monotonicity. However, before digging
into calculations, remember that, in \nameref{par:subp1_1}, we have understood
$g$ is bounded and has at least one maximum and one minimum. Let's find them. 
We evaluate the first-order derivative:
\begin{equation}\label{eq:gprimedef}
    \begin{split}
        g^\prime(x) &= \frac{d}{dx} (x - 1) \cdot e^{2x - x^2} + (x - 1) \cdot \frac{d}{dx} e^{2x - x^2}\\
            &= e^{2x - x^2} + (x - 1)  e^{2x - x^2} \cdot \frac{d}{dx} (2x - x^2)\\
            &= e^{2x - x^2} + (x - 1) (2 - 2x) e^{2x - x^2}\\
            &= \left[ 1 + (x - 1) (2 - 2x) \right] e^{2x - x^2} = (-2x^2 + 4x - 1) e^{2x - x^2}
    \end{split}
\end{equation}
We can see $g^\prime$ is also the product between a polynomial and an exponential.
As we study its sign:
\begin{equation}\label{eq:gprimegeqzero}
    g^\prime(x) \geq 0 \iff (-2x^2 + 4x - 1) e^{2x - x^2} \geq 0
\end{equation}
We first want to spot were possible maxima and minima are located: $g^\prime(x) = 0$.
But, again, an exponential is never $0$, therefore we just need to focus
on\marginnote[0.1\textwidth]{Note: $\sqrt{2} \approx 1.4$.}:
\begin{equation}\label{eq:grpimenull}
    \begin{split}
        -2x^2 + 4x - 1 = 0 &\implies x = \frac{-b \pm \sqrt{\Delta}}{2a} =
        \frac{-4 \pm \sqrt{8}}{-4} = \frac{4 \pm 2\sqrt{2}}{4}\\
        &\implies
        x = 1 \pm \frac{\sqrt{2}}{2} \implies
        \begin{cases}
            x_1 = 1 + \frac{\sqrt{2}}{2} \approx 1.7\\
            x_2 = 1 - \frac{\sqrt{2}}{2} \approx 0.3
        \end{cases}
    \end{split}
\end{equation}
At this point we know that $g$ has possible\sidenote{Remember that when you find the
values for which a function's derivative is $0$, you have not found extrema:
you have found \smallcaps{candidate extrema}. You must study the derivative's sign
in order to confirm whether those candidates are maxima, minima or horizontal
inflections.} extrema in $x_1$ and $x_2$. Back to equation
\ref{eq:gprimegeqzero}, let's study $g^\prime$'s sign.
Since the exponential term is alway (strictly) positive, the overall sign is dictated
by $-2x^2 + 4x - 1$. But, in equation \ref{eq:grpimenull}, we already studied
this polynomial's zeroes\sidenote{Remember that when solving a
second-order algebraic inequality $ax^2 + bx + c <> 0$,
you must first evaluate the underlying equation: $ax^2 + bx + c = 0$.} in
equation \ref{eq:gprimegeqzero}, so we just apply the well known
rule\sidenote{For any given inequality $ax^2 + bx + c <> 0$, having
$x_1$, $x_2$ (with $x_1 \leq x_2$) be
the points such that $ax^2 + bx + c = 0$; the solution is
$x < x_1 \wedge x > x_2$ if $a > 0$ and the sign is $>$ or if $a < 0$ and the sign is $<$;
while the solution is $x_1 < x < x_2$
if $a > 0$ and the sign is $<$ or if $a < 0$ and the sign is $>$.}
for second-order algebraic inequalities and find out that: $g^\prime(x) > 0$ when
$-2x^2 + 4x - 1 > 0$ which holds when:
\begin{equation}\label{eq:gprimesignres}
g^\prime(x) > 0 \iff \forall x: x_1 < x < x_2
\end{equation}
This means that $g$ is monotonic incresing in between $x_1$ and $x_2$, decreasing
elsewhere. This makes sense because $g$ is bounded as we discovered in
\nameref{par:subp1_1}, which means it must go to $0$ when $x \to \pm\infty$:
$g$ decreases while we move further away towards $\infty$.
Becuase of equation \ref{eq:gprimesignres}, we can see that in $x_1$ and $x_2$ the sign
of $g^\prime$ gets inverted, which means that those two points are
extrema\sidenote{Whose existence we already proved earlier.}; let's calculate those:
\begin{equation*}
    \begin{cases}
        g(x_1) = \frac{\sqrt{2}}{2} e^{2\left( 1 + \frac{\sqrt{2}}{2} \right) - \left( 1 + \frac{\sqrt{2}}{2} \right)^2}
            = \sqrt{\frac{e}{2}} \approx 1.2\\
        g(x_2) = - \frac{\sqrt{2}}{2} e^{2\left( 1 - \frac{\sqrt{2}}{2} \right) - \left( 1 - \frac{\sqrt{2}}{2} \right)^2}
            = - \sqrt{\frac{e}{2}} \approx -1.2
    \end{cases}
\end{equation*}
And we have found the maximum: $M_g \equiv \left( 1 + \frac{\sqrt{2}}{2}, \sqrt{\frac{e}{2}} \right)$ and
the minimum: $m_g \equiv \left( 1 - \frac{\sqrt{2}}{2}, -\sqrt{\frac{e}{2}} \right)$.

At this point, normally, we would move on studying
the concavity by calcualting the second-order
derivative $g^{\prime\prime}$ and studying its sign;
but we can be smart and avoid all that calculation.
The key to this shortcut is understanding that $g$ is a
\smallcaps{smooth}\sidenote{A function $f$ is said to
be $n$-\textit{smooth}, and is written: $f \in \mathcal{C}^n$, when its $n$-th derivative is continuous. Now recall that
if the $n$-th derivative exists, so must the $(n-1)$-th and so forth. Also remember that if a function is differentiable,
then it is also continuous. It means that a $\mathcal{C}^n$ function has all its
first $n$ derivatives and they are continuous.} function. Smooth functions are special functions that present
no irregularities in their plot. If $g$ is at least 2-smooth, then its plot would be regular without
criticalities, spikes or wedges.
That means $g$ would start from $-\infty$ and decrease towards $m_g$ by changing
concavity before reaching $x_1$; the same goes when we start from $+\infty$ and move left towards $x_2$:
$g$ would change concavity before reaching $M_g$. Between $x_1$ and $x_2$ another concavity change would be
necessary because $g$ would not allow wedges. This approach sounds quick, so let's try to
prove $g$ is 2-smooth. We have already proved that $g$ is continuous; if we look at
equation \ref{eq:gprimedef}, $g^\prime$ is always the product between a polynomial and an exponetial:
both continuous functions, so $g^\prime$ is also continuous.
What about $g^{\prime\prime}$? We don't need to compute it to see it is continuous.
Look at $g^\prime$, differentiating it is the same process of
differentiating $g$ in equation \ref{eq:gprimedef}: you always end up with polynomials and exponential.
Therefore $g^{\prime\prime}$ is also
continuous\sidenote[][-0.2\textwidth]{Fun fact: if you extend
this line of thinking, you can prove that $g$ is $\mathcal{C}^2$ and above. Since every
further derivative will always result is more polynomials and exponentials, basically all $g$'s derivatives
are continuous. That is why $g \in \mathcal{C}^\infty$. Such functions are
called \smallcaps{infinitely differentiable}.}.

\begin{figure*}[h] % Full width figure
    \includegraphics[width=1\linewidth]{problem_1_L_gplot_diag.tikz}
    \caption{This is the caption and much more to add come in here.}%
    \label{fig:fplot}%
\end{figure*}

\newpar[0.05\textwidth]{Problem 4}{Symmetry of $g$}{par:subp4_1}
By looking at $g$'s plot, we can assess the function had indeed a centre of symmetry
in $S_g \equiv (1,0)$. This evidence alone is quite sufficient to move on, but if we really wanna
solve the problem as asked, we have to prove $S_g$ is a centre of symmetry to $g$.
If a function $\phi(x)$\sidenote{We cannot use symbol $f$ because it's already taken.}
is symmetric with respect to a generic point whose x-coordinate is $x_S$, then the
following holds:
\begin{equation}\label{eq:fcsymm}
    \phi(x_S + x) = - \phi(x_S - x)
\end{equation}
So let's impose $x_S = 1$ and rewrite
equation \ref{eq:fcsymm}\sidenote{This equation and the technique
to find a generic centre of symmetry is
described at: \nameref{sec:fsymmcentre}.} as $g(1 + x) = - g(1 - x)$ and proceed:
\begin{equation*}
    \begin{split}
        (1 + x - 1)e^{2(1 + x) - (1 + x)^2} &= - (1 - x - 1)e^{2(1 - x) - (1 - x)^2} \implies\\
        xe^{2 + 2x - (1 + x^2 + 2x)} &= xe^{2 - 2x - (1 + x^2 - 2x)} \implies\\
        xe^{2 + 2x - 1 - x^2 - 2x} &= xe^{2 - 2x - 1 - x^2 + 2x)} \implies\\
        xe^{1 - x^2} &= xe^{1 - x^2)}
    \end{split}
\end{equation*}

\newpar{Problem 5}{Tangency between $f$ ad $g$}{par:subp5_1}
From the plot of $f$ and $g$ we should see the two functions are tangent. We need to prove
the tangent point exists and it is $B \equiv (B_x,B_y) \equiv (0,-1)$.
Here's the strategy:
\begin{enumerate}
    \item \label{it:binfg} We substitute $B$ in both $f$ and $g$ verifying it belongs to both of them.
    \item \label{it:binderfg} To prove that $f$ and $g$ are tangent in $B$, we calculate
        both functions' derivatives in $B$ and assess they are the
        same\sidenote{Remember that the derivtive of a function represents
        the angular coefficient of the line tangent the function in each of its points.
        If two functions are tangent in a point, their derivatives in that point
        must be the same.}:
        $f^\prime(B_x) = g^\prime(B_x)$.
\end{enumerate}
Focusing on point \ref{it:binfg}, let's verify $B$ belongs to $f$:
\begin{equation*}
    B_y = f(B_x) \implies -1 = f(0) \implies (0)^2 - 0 - 1 \implies -1 = -1
\end{equation*}
That's ok. Let's check $B$ also belongs to $g$:
\begin{equation*}
    B_y = g(B_x) \implies -1 = g(0) \implies (-1)e^{0} \implies -1 = -1
\end{equation*}
Moving to point \ref{it:binderfg}, there's not much to do as we have already computed
$g^\prime$ and $f^\prime$ is very easy to calculate:
\begin{equation*}
    f^\prime(B_x) = g^\prime(B_x) \implies f^\prime(0) = g^\prime(0)
        \implies -1 = (-1) e^{0} \implies -1 = -1
\end{equation*}
And that proves $f$ and $g$ are tangent in $B$.

\newpar{Problem 6}{Area calculation}{par:subp6_1}
We are now tasked with finding the value of the area between the two curves $f$ and $g$.
We can clearly see from the plot we drew that they have two points in common;
since we already know one of them
is $B$, we need to find the other one which we will call $C = (C_x, C_y)$.
So we can use a system:
\begin{equation*}
    \begin{cases}
        y = f(x)\\
        y = g(x)
    \end{cases}
    \implies
    \begin{cases}
        y = x^2 - x - 1\\
        y = (x - 1)e^{2x - x^2}
    \end{cases}
\end{equation*}
Which leads to equation:
\begin{equation}\label{eq:tangeq}
    x^2 - x - 1 = (x - 1)e^{2x - x^2}
\end{equation}
Equation \ref{eq:tangeq} will be able to give us two solutions: one is $B_x$ and
the other one is $C_x$. But there is a problem: that is a
\smallcaps{polynomial-exponential}\sidenote{A
\textit{polynomial-exponential equation} is an equation where
$x$ or any of its powers appear both
inside and outside of one or more exponentials.} equation. Why it
is a problem? Because calculating the value of $x$ in
polynomial-exponential equations using symbolic calculus is
impossible\sidenote{You can find the proof to why polynomial-exponential
equations are impossible to solve analytically at: \nameref{sec:polyexpeqimp}.}!
Yeah, just forget it, you simply cannot do it; but then it means that the problem
of calculating $C$ is impossible as well? Of course not! If we cannot
find out $C$ analytically, we can try to do that \textbf{numerically}.
The numerical methods we know are all about finding zeroes of a function;
to get that function, we can start from equation \ref{eq:tangeq}: $f(x) = g(x)$,
and move all terms to the LHS: $f(x) - g(x) = 0$, and we can simply
introduce a new function $\varepsilon(x) = f(x) - g(x)$; the equation we get
is responsible for finding the zeroes of $\varepsilon$; one of those zeroes is
exactly what we are looking for: $C_x$.
The next step is choosing an interval $[x_1, x_2] \subset \mathbb{R}$: a range
of values of $x$ inside which we are going to iteratively try to find $C_x$.
We need to be sure that: $C_x \in [x_1, x_2]$.
By looking at the plot we drew before, we can see that $C_x$ comes after the point
where $f$ intersects the x-axis, so we can
set $x_1 = \frac{1 + \sqrt{5}}{2}$\sidenote{We calculated that point 
at: \nameref{par:subp3_1}.}. What about the other end of the interval?
Well that is tricky because we do not really have a reference on the plot to
guide us, so let's try to
eyeball it: we can pick up a number $x_2 > x_1$ and then calculate $f(x_2)$ and
$g(x_2)$, if $f(x_2) > g(x_2)$ then we know for sure we are after $C_x$ because
that is exactly where $f$ and $g$ meet and then $f$ starts becoming
greater than $g$. Let's try $x_2 = 3$: $f(3) = 3^2 - 3 - 1 = 5$, and
$g(3) = 2e^{-3} = \frac{2}{e^3}$, it is clear that $5 > \frac{2}{e^3}$, so we
can use $x_2 = 3$. At this point we are left to chose the numerical method to use:
typically in high school the following 3 methods are studied:

\begin{table}[h]
    \begin{center}
        \footnotesize%
        \begin{tabular}{lcl}
        \toprule
        Method & Requirements & Strategy \\
        \midrule
        Bisection & $\varepsilon \in \mathcal{C}$, $\text{sign}(\varepsilon(x_1)) = -\text{sign}(\varepsilon(x_2))$ & Binary search
            in $[x_1, x_2] \subseteq D(\varepsilon)$.\\
        Secants & & Sequence of secants, $\varepsilon(x_i)$.\\
        Newton's & $\varepsilon^\prime$ & Tangent lines, $\varepsilon(x_i)$ and $\varepsilon^\prime(x_i)$.\\
        \bottomrule
        \end{tabular}
    \end{center}
    \caption{Most common numerical methods for finding the roots of a function $\varepsilon$ sorted by complexity
    (lowest to highest number of calculations).}
    \label{tab:nummethroots}
\end{table}

Bisection is the simplest although the most demainding (there are some conditions
to satisfy before using it), while the Secants Method has no requirements but involves more
calculations. Newton's even requires the first-order derivative. We are going to use Bisection
because it turns out all the conditions to use it are met.
For starters, $\varepsilon$ is indeed
continuous\sidenote{Remember that, actually, in \nameref{par:subp3_1}, we proved
that $\varepsilon$ is infinitely differentiable:
$\varepsilon \in \mathcal{C}^\infty$, which of course
implies that $\varepsilon$ is also continuous: $\varepsilon \in \mathcal{C}$.},
and we can also prove that $\varepsilon(x_1)$ has the
opposite sign of $\varepsilon(x_2)$. We have that $f(x_1) = 0$ and
$g(x_1) > 0$\sidenote{Obvious because, in interval $x > 1$, $g(x) > 0$ (we assessed this when
studying $g$'s sign in \nameref{par:subp3_1}).}; and, since $\varepsilon(x_1) = f(x_1) - g(x_1)$, we
can conclude that $\varepsilon(x_1) < 0$. Remember we proved a moment ago that, in $x_2$,
$f$ is higher than $g$ (that's exactly why we chose $x_2$);
since $\varepsilon(x_2) = f(x_2) - g(x_2)$, we have that $\varepsilon(x_2) > 0$.
Now we have verified we can use the Bisection Method, let's use it.